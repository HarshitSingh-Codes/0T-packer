@Library("opstree-shared-library@packer+aws-cli") _

def nginx = new org.opstree.template.nginx.nginx()
// def runPacker = new org.opstree.packer.runPacker() 
// def gitCheckout = new org.opstree.common.gitCheckout()

node {
    
    def url = 'https://github.com/HarshitSingh-Codes/0T-packer.git'
    def creds = 'github-token'
    def branch = 'nginxV1.0'
    def packerFileName = '.'
    def amiVersion = '0.6'
    
    // nginx.call(url, creds, branch, packerFileName, amiVersion)

    nginx.checkout(url, creds, branch)

    nginx.runPacker(packerFileName, amiVersion)

}
