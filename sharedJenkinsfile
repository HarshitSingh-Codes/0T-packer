@Library("opstree-shared-library") _

def nginx = new org.opstree.template.nginx.nginx()
properties([
    parameters([
        booleanParam(name: 'runPacker', defaultValue: false, description: 'Run Packer')
        string(name: 'packerFileName', defaultValue: '', description: 'Packer file name')
    ])
])
node {
    
    def url = 'https://github.com/HarshitSingh-Codes/0T-packer.git'
    def creds = 'github-token'
    def branch = 'nginxV1.0'
    
    nginx.call(url, creds, branch, params.runPacker, params.packerFileName)
    
}
